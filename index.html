<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genio Visi√≥n - Escuela de Tareas Dirigidas</title>
    <style>
        :root {
            --pastel-blue: #AEC6CF;
            --pastel-pink: #FFB7B2;
            --pastel-green: #B2E2F2;
            --pastel-yellow: #FFFFD1;
            --pastel-purple: #C3B1E1;
            --texto-oscuro: #001F3F; /* Azul oscuro para lectura clara */
            --error-red: #FF4136;
            --exito-green: #2ECC40;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: #fdfdfd;
            margin: 0;
            color: var(--texto-oscuro);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- MARKETING & BRANDING: GENIO VISI√ìN --- */
        header {
            background-color: var(--pastel-blue);
            padding: 25px;
            text-align: center;
            border-bottom: 6px solid var(--pastel-purple);
        }

        .nombre-escuela {
            font-size: 3.5rem;
            margin: 0;
            color: #000;
            text-shadow: 2px 2px white;
        }

        .info-escuela {
            background: white;
            max-width: 850px;
            margin: 15px auto;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.05);
            border: 2px solid var(--pastel-pink);
            font-size: 1.1rem;
        }

        .btn-contacto {
            display: inline-block;
            background-color: var(--exito-green);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 10px;
            border: 2px solid var(--texto-oscuro);
        }

        /* --- MALLA DE GLOBOS (ABECEDARIO) --- */
        .alphabet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: 25px;
            padding: 40px 20px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .globo {
            height: 140px;
            border-radius: 50% 50% 50% 50% / 45% 45% 55% 55%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            box-shadow: inset -5px -10px 15px rgba(0,0,0,0.1);
        }

        .globo:hover { transform: translateY(-15px) rotate(5deg); }
        .globo::after {
            content: ''; position: absolute; bottom: -20px;
            width: 2px; height: 30px; background: #888;
        }

        /* --- PORTAL DE EJERCICIOS --- */
        #game-portal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #fff;
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .ejercicio-header {
            text-align: center;
            width: 100%;
        }

        .palabra-escrita {
            font-size: 4rem;
            color: var(--texto-oscuro);
            font-weight: bold;
            letter-spacing: 5px;
            margin: 20px 0;
            text-transform: uppercase;
            border-bottom: 5px solid var(--pastel-yellow);
        }

        .drop-zone {
            display: flex;
            gap: 15px;
            margin: 30px 0;
            min-height: 100px;
        }

        .slot {
            width: 140px;
            height: 100px;
            border: 4px dashed var(--texto-oscuro);
            border-radius: 20px;
            background: #fdfdfd;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--texto-oscuro);
            transition: background 0.3s;
        }

        .slot.error { background-color: var(--error-red) !important; color: white; border-color: #800; animation: shake 0.4s; }
        .slot.success { background-color: var(--exito-green) !important; color: white; }

        .syllables-pool {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            max-width: 900px;
        }

        .syllable-card {
            padding: 20px 40px;
            background: white;
            border: 3px solid var(--texto-oscuro);
            border-radius: 15px;
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--texto-oscuro);
            cursor: pointer;
            box-shadow: 0 6px 0 var(--texto-oscuro);
        }

        .syllable-card:active { transform: translateY(4px); box-shadow: none; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* --- FOOTER --- */
        footer {
            background-color: #1a1a1a;
            color: #ccc;
            padding: 40px 20px;
            text-align: center;
            margin-top: auto;
        }

        footer a { color: var(--pastel-blue); text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

    <header>
        <h1 class="nombre-escuela">Genio Visi√≥n</h1>
        <div class="info-escuela">
            <p><strong>üìç Los Guayos, Edo. Carabobo:</strong> Referencia cerca del <strong>Elevado</strong>.</p>
            <a href="https://maps.app.goo.gl/Yco82LzVs3sJVcDS7" target="_blank" style="color:var(--texto-oscuro); font-weight:bold;">üìç Haz clic para ver el Globo de Ubicaci√≥n</a>
            <p>¬°Aprendizaje fluido y tareas dirigidas para ni√±os de excelencia!</p>
            <a href="tel:04244517644" class="btn-contacto">üìû Inscr√≠belo Aqu√≠: 0424-4517644</a>
        </div>
    </header>

    <main class="alphabet-grid" id="alphabet-container"></main>

    <div id="game-portal">
        <div class="ejercicio-header">
            <button onclick="closePortal()" style="padding: 10px 20px; cursor: pointer; border-radius: 10px; font-weight: bold; float: left;">‚¨Ö VOLVER</button>
            <p id="exercise-count" style="font-weight:bold; font-size: 1.2rem;">Ejercicio 1 de 15</p>
        </div>
        
        <div class="palabra-escrita" id="word-hint">---</div>
        
        <div class="drop-zone" id="drop-zone"></div>
        <div class="syllables-pool" id="pool-container"></div>
        
        <div id="status-msg" style="font-size: 2rem; font-weight: bold; margin-top: 20px;"></div>
    </div>

    <footer>
        <p>Agradecimientos a la empresa de marketing <strong><a href="https://github.com/jhonmalorne/nexus.net/deployments" target="_blank">Nexus Marketing.Net</a></strong></p>
        <p>Dise√±o Pedag√≥gico y Estrat√©gico | Contacto Desarrollador: <strong>0424-4525765</strong></p>
    </footer>

    <script>
        // --- BASE DE DATOS LING√ú√çSTICA (SILABEO RAE: DIPTONGOS E HIATOS) ---
        const gameData = {
            'A': [['A', 'GUA'], ['A', 'BE', 'JA'], ['AR', 'PA'], ['A', 'VI', '√ìN'], ['AR', 'ROZ'], ['A', 'NI', 'LLO'], ['A', 'RE', 'PA'], ['A', 'ZU', 'CAR'], ['A', 'MI', 'GO'], ['A', 'LA'], ['√ÅR', 'BOL'], ['AR', 'CO'], ['A', 'NIL'], ['A', 'VI', 'SPA'], ['AL', 'MA']],
            'B': [['BO', 'TA'], ['BA', 'LLE', 'NA'], ['B√ö', 'HO'], ['BA', 'LAN', 'ZA'], ['BI', 'CI'], ['BO', 'CA'], ['BA', 'TI', 'DO'], ['BO', 'LAS'], ['BA', 'RRO'], ['BU', 'QUE'], ['BLAN', 'CO'], ['BRIN', 'CO'], ['BRA', 'ZO'], ['BO', 'T√ìN'], ['BU', 'RRO']],
            'C': [['CA', 'SA'], ['CO', 'ME', 'TA'], ['CU', 'NA'], ['CE', 'PI', 'LLO'], ['CI', 'NE'], ['CA', 'MI', 'SA'], ['CO', 'CHE'], ['CUA', 'DRO'], ['CA', 'BE', 'LLO'], ['CO', 'RA', 'Z√ìN'], ['CE', 'RE', 'ZA'], ['CA', 'PA'], ['CA', 'RA'], ['CU', 'BER', 'TO'], ['CO', 'PA']],
            'D': [['DA', 'DO'], ['DE', 'DO'], ['DIEN', 'TE'], ['DI', 'NO'], ['DUL', 'CE'], ['DA', 'MA'], ['DOR', 'MIR'], ['DOR', 'NA'], ['DIA', 'BLO'], ['DUE', 'NDE'], ['DO', 'NA'], ['DAR', 'DO'], ['D√ç', 'A'], ['DUE', '√ëO'], ['DI', 'CHA']],
            'M': [['MA', 'M√Å'], ['ME', 'SA'], ['MI', 'MO'], ['MU', 'LA'], ['MO', 'TO'], ['MA', 'NO'], ['MA', 'PA'], ['MI', 'SA'], ['MO', 'NO'], ['MU', 'RO'], ['MA', '√çZ'], ['MO', 'DA'], ['MU', 'CHO'], ['MA', 'RE'], ['ME', 'TA']],
            'P': [['PA', 'P√Å'], ['PE', 'RRO'], ['PI', 'A', 'NO'], ['PO', 'MO'], ['PU', 'MA'], ['PE', 'SO'], ['PI', 'SO'], ['PA', 'LA'], ['PA', 'TO'], ['PE', 'RA'], ['PI', 'LA'], ['PI', 'CO'], ['PUER', 'TA'], ['PO', 'LLO'], ['PI', 'PA']]
            // Se puede completar el resto con la misma estructura l√≥gica
        };

        const alphabet = "ABCDEFGHIJKLMN√ëOPQRSTUVWXYZ".split("");
        const colors = ['var(--pastel-blue)', 'var(--pastel-pink)', 'var(--pastel-green)', 'var(--pastel-yellow)', 'var(--pastel-purple)'];
        
        let currentLetter = '';
        let currentIdx = 0;
        let userSelection = [];

        const grid = document.getElementById('alphabet-container');
        alphabet.forEach((l, i) => {
            const b = document.createElement('div');
            b.className = 'globo';
            b.textContent = l;
            b.style.backgroundColor = colors[i % colors.length];
            b.onclick = () => openPortal(l);
            grid.appendChild(b);
        });

        function openPortal(l) {
            currentLetter = l;
            currentIdx = 0;
            document.getElementById('game-portal').style.display = 'flex';
            loadLevel();
        }

        function closePortal() {
            document.getElementById('game-portal').style.display = 'none';
        }

        function loadLevel() {
            const dropZone = document.getElementById('drop-zone');
            const pool = document.getElementById('pool-container');
            const hint = document.getElementById('word-hint');
            const counter = document.getElementById('exercise-count');
            const status = document.getElementById('status-msg');

            dropZone.innerHTML = '';
            pool.innerHTML = '';
            status.textContent = '';
            userSelection = [];

            // Fallback si la letra no tiene data a√∫n
            const levels = gameData[currentLetter] || gameData['M'];
            const syllables = levels[currentIdx];
            const fullWord = syllables.join("");

            hint.textContent = fullWord;
            counter.textContent = `Ejercicio ${currentIdx + 1} de 15`;

            syllables.forEach(() => {
                const s = document.createElement('div');
                s.className = 'slot';
                dropZone.appendChild(s);
            });

            // S√≠labas mezcladas + distractores
            let options = [...syllables, "TA", "LO", "RE"].sort(() => Math.random() - 0.5);
            options.forEach(text => {
                const card = document.createElement('div');
                card.className = 'syllable-card';
                card.textContent = text;
                card.onclick = () => selectSyllable(card, text, syllables);
                pool.appendChild(card);
            });
        }

        function selectSyllable(card, val, correctArr) {
            const slots = document.querySelectorAll('.slot');
            let nextSlot = Array.from(slots).find(s => !s.textContent);

            if (nextSlot) {
                nextSlot.textContent = val;
                card.style.visibility = 'hidden';
                userSelection.push(val);

                if (userSelection.length === correctArr.length) {
                    checkAnswer(correctArr);
                }
            }
        }

        function checkAnswer(correctArr) {
            const slots = document.querySelectorAll('.slot');
            const status = document.getElementById('status-msg');
            const isCorrect = JSON.stringify(userSelection) === JSON.stringify(correctArr);

            if (isCorrect) {
                slots.forEach(s => s.classList.add('success'));
                status.textContent = "¬°Excelente Trabajo! üåü";
                status.style.color = "var(--exito-green)";
                setTimeout(() => {
                    if (currentIdx < 14) {
                        currentIdx++;
                        loadLevel();
                    } else {
                        alert("¬°Felicidades! Completaste los ejercicios de la letra " + currentLetter);
                        closePortal();
                    }
                }, 1500);
            } else {
                slots.forEach(s => s.classList.add('error'));
                status.textContent = "¬°Int√©ntalo de nuevo! üî¥";
                status.style.color = "var(--error-red)";
                setTimeout(() => {
                    loadLevel();
                }, 1200);
            }
        }
    </script>
</body>
</html>
