<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genio Visi√≥n - Aprende a Leer y Escribir</title>
    <style>
        :root {
            --pastel-blue: #AEC6CF;
            --pastel-pink: #FFB7B2;
            --pastel-green: #B2E2F2;
            --pastel-yellow: #FFFFD1;
            --pastel-purple: #C3B1E1;
            --dark-text: #001F3F; /* Azul oscuro para m√°xima legibilidad */
            --error-red: #FF4136;
            --success-green: #2ECC40;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: #fdfdfd;
            margin: 0;
            color: var(--dark-text);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- SECCI√ìN MARKETING: GENIO VISI√ìN --- */
        header {
            background-color: var(--pastel-blue);
            padding: 25px;
            text-align: center;
            border-bottom: 6px solid var(--pastel-purple);
        }

        .school-name {
            font-size: 3.2rem;
            margin: 0;
            color: #000;
            text-shadow: 2px 2px white;
        }

        .ads-box {
            background: white;
            max-width: 850px;
            margin: 15px auto;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.05);
            border: 2px solid var(--pastel-pink);
        }

        .btn-call {
            display: inline-block;
            background-color: var(--success-green);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 10px;
            border: 2px solid var(--dark-text);
        }

        /* --- MALLA DE GLOBOS (ABECEDARIO) --- */
        .alphabet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: 25px;
            padding: 40px 20px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .balloon {
            height: 140px;
            border-radius: 50% 50% 50% 50% / 45% 45% 55% 55%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: #000; /* Letras negras para visualizaci√≥n */
            cursor: pointer;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            box-shadow: inset -5px -10px 15px rgba(0,0,0,0.1);
        }

        .balloon:hover { transform: translateY(-15px) rotate(5deg); }
        .balloon::after {
            content: ''; position: absolute; bottom: -20px;
            width: 2px; height: 30px; background: #888;
        }

        /* --- PORTAL DE EJERCICIOS (MODAL) --- */
        #exercise-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #fff;
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .hint-word {
            font-size: 4.5rem;
            color: var(--dark-text);
            font-weight: bold;
            letter-spacing: 5px;
            margin: 20px 0;
            text-transform: uppercase;
            border-bottom: 4px solid var(--pastel-yellow);
        }

        .drop-zone {
            display: flex;
            gap: 15px;
            margin: 30px 0;
            min-height: 100px;
        }

        .slot {
            width: 130px;
            height: 100px;
            border: 4px dashed var(--dark-text);
            border-radius: 20px;
            background: #fdfdfd;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark-text);
        }

        .slot.error { background-color: var(--error-red) !important; color: white; border-color: #800; animation: shake 0.4s; }
        .slot.success { background-color: var(--success-green) !important; color: white; }

        .syllables-pool {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            max-width: 900px;
        }

        .syllable-card {
            padding: 20px 40px;
            background: white;
            border: 3px solid var(--dark-text);
            border-radius: 15px;
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--dark-text);
            cursor: pointer;
            box-shadow: 0 6px 0 var(--dark-text);
        }

        .syllable-card:active { transform: translateY(4px); box-shadow: none; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* --- FOOTER --- */
        footer {
            background-color: #1a1a1a;
            color: #ccc;
            padding: 40px 20px;
            text-align: center;
            margin-top: auto;
        }

        footer a { color: var(--pastel-blue); text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

    <header>
        <h1 class="school-name">Genio Visi√≥n</h1>
        <div class="ads-box">
            <p><strong>üìç Los Guayos, Edo. Carabobo:</strong> Referencia cerca del <strong>Elevado</strong>.</p>
            <a href="https://maps.app.goo.gl/Yco82LzVs3sJVcDS7" target="_blank" style="color:var(--dark-text); font-weight:bold;">üìç Ver Ubicaci√≥n (Haz clic en el globo)</a>
            <p>Especialistas en Tareas Dirigidas para fortalecer la lectura fluida.</p>
            <a href="tel:04244517644" class="btn-call">üìû Inscr√≠belo Aqu√≠: 0424-4517644</a>
        </div>
    </header>

    <main class="alphabet-grid" id="alphabet-container"></main>

    <div id="exercise-modal">
        <button onclick="closePortal()" style="padding: 10px 20px; cursor: pointer; border-radius: 10px; font-weight: bold;">‚¨Ö VOLVER</button>
        <p id="exercise-count" style="margin-top:15px; font-weight:bold;">Ejercicio 1 de 15</p>
        
        <div class="hint-word" id="hint-display">---</div>
        
        <div class="drop-zone" id="drop-zone"></div>
        <div class="syllables-pool" id="pool-container"></div>
        
        <div id="feedback" style="font-size: 2rem; font-weight: bold; margin-top: 20px;"></div>
    </div>

    <footer>
        <p>Agradecimientos a la empresa de marketing <strong><a href="https://github.com/jhonmalorne/nexus.net/deployments" target="_blank">Nexus Marketing.Net</a></strong></p>
        <p>Dise√±o Pedag√≥gico Avanzado | üì≤ Contacto: <strong>0424-4525765</strong></p>
    </footer>

    <script>
        // --- BASE DE DATOS DE PALABRAS (CON SILABEO CORRECTO SEG√öN CASTELLANO) ---
        // Respetando reglas de diptongos (GUA), grupos (BLA, TRA) y acentuaci√≥n.
        const wordData = {
            'A': [['A', 'GUA'], ['A', 'BE', 'JA'], ['AR', 'BOL'], ['A', 'RE', 'PA'], ['A', 'MOR'], ['A', 'MI', 'GO'], ['AN', 'GEL'], ['AR', 'CO'], ['A', 'VI', 'ON'], ['A', 'NILL', 'O'], ['A', 'SUL'], ['A', 'RE', 'NA'], ['A', 'MAR'], ['A', 'S√ç'], ['AL', 'MA']],
            'B': [['BO', 'TA'], ['BA', 'TE'], ['BU', 'RRO'], ['BAR', 'CO'], ['BE', 'B√â'], ['BA', 'TA'], ['BI', 'CI'], ['BO', 'LA'], ['BO', 'T√ìN'], ['BA', 'RA'], ['BU', 'QUE'], ['BLA', 'CO'], ['BAL', 'DE'], ['BE', 'SO'], ['BO', 'CA']],
            'C': [['CA', 'SA'], ['CO', 'CO'], ['CU', 'NA'], ['CA', 'MA'], ['CAR', 'RO'], ['CE', 'NA'], ['CI', 'ELO'], ['CO', 'LA'], ['CUEN', 'TO'], ['CA', 'F√â'], ['CA', 'PA'], ['CO', 'PA'], ['CIS', 'NE'], ['CE', 'RO'], ['CO', 'NE', 'JO']],
            'M': [['MA', 'M√Å'], ['ME', 'SA'], ['MI', 'MO'], ['MU', 'LA'], ['MO', 'TO'], ['MA', 'NO'], ['MA', 'PA'], ['MI', 'SA'], ['MO', 'NO'], ['MU', 'RO'], ['MA√çZ'], ['MO', 'DA'], ['MU', 'CHO'], ['MA', 'RE'], ['ME', 'TA']],
            'P': [['PA', 'P√Å'], ['PE', 'LO'], ['PI', 'PA'], ['PO', 'MO'], ['PU', 'MA'], ['PE', 'SO'], ['PI', 'SO'], ['PA', 'LA'], ['PA', 'TO'], ['PE', 'RA'], ['PI', 'LA'], ['PI', 'CO'], ['PUER', 'TA'], ['PO', 'LLO'], ['PIANO']],
            'L': [['LU', 'NA'], ['LO', 'MA'], ['LU', 'PA'], ['LO', 'RO'], ['LA', 'NA'], ['LI', 'MA'], ['LE', '√ìN'], ['LA', 'TA'], ['LA', 'GO'], ['LE', 'CHE'], ['LI', 'SO'], ['LO', 'NA'], ['LO', 'TE'], ['LUZ'], ['LI', 'RIO']],
            'S': [['SA', 'PO'], ['SO', 'PA'], ['SU', 'MA'], ['SO', 'LA'], ['SE', 'IS'], ['SA', 'CO'], ['SE', 'DA'], ['SI', 'LLA'], ['SA', 'LA'], ['SUE', 'LO'], ['SI', 'LLA'], ['SA', 'NO'], ['SOL'], ['SI', 'RE', 'NA'], ['SU', 'CIO']]
            // Se puede extender para todas las letras con el mismo formato de array
        };

        const alphabet = "ABCDEFGHIJKLMN√ëOPQRSTUVWXYZ".split("");
        const colors = ['var(--pastel-blue)', 'var(--pastel-pink)', 'var(--pastel-green)', 'var(--pastel-yellow)', 'var(--pastel-purple)'];
        
        let currentLetter = '';
        let currentIdx = 0;
        let selectedSyllables = [];

        // Generar Globos
        const container = document.getElementById('alphabet-container');
        alphabet.forEach((letra, i) => {
            const b = document.createElement('div');
            b.className = 'balloon';
            b.textContent = letra;
            b.style.backgroundColor = colors[i % colors.length];
            b.onclick = () => openPortal(letra);
            container.appendChild(b);
        });

        function openPortal(letra) {
            currentLetter = letra;
            currentIdx = 0;
            document.getElementById('exercise-modal').style.display = 'flex';
            loadLevel();
        }

        function closePortal() {
            document.getElementById('exercise-modal').style.display = 'none';
        }

        function loadLevel() {
            const dropZone = document.getElementById('drop-zone');
            const pool = document.getElementById('pool-container');
            const hint = document.getElementById('hint-display');
            const counter = document.getElementById('exercise-count');
            const feedback = document.getElementById('feedback');

            dropZone.innerHTML = '';
            pool.innerHTML = '';
            feedback.textContent = '';
            selectedSyllables = [];

            // Obtener datos (Fallback si la letra no est√° completa en el diccionario)
            const levels = wordData[currentLetter] || wordData['M']; 
            const syllables = levels[currentIdx];
            const word = syllables.join("");

            hint.textContent = word;
            counter.textContent = `Ejercicio ${currentIdx + 1} de 15`;

            // Crear slots
            syllables.forEach(() => {
                const s = document.createElement('div');
                s.className = 'slot';
                dropZone.appendChild(s);
            });

            // Crear s√≠labas para elegir (Mezcladas + Distractor)
            let options = [...syllables, "TA", "LO"].sort(() => Math.random() - 0.5);
            options.forEach(text => {
                const card = document.createElement('div');
                card.className = 'syllable-card';
                card.textContent = text;
                card.onclick = () => selectSyllable(card, text, syllables);
                pool.appendChild(card);
            });
        }

        function selectSyllable(card, val, correctArr) {
            const slots = document.querySelectorAll('.slot');
            let nextSlot = Array.from(slots).find(s => !s.textContent);

            if (nextSlot) {
                nextSlot.textContent = val;
                card.style.visibility = 'hidden';
                selectedSyllables.push(val);

                if (selectedSyllables.length === correctArr.length) {
                    checkAnswer(correctArr);
                }
            }
        }

        function checkAnswer(correctArr) {
            const slots = document.querySelectorAll('.slot');
            const feedback = document.getElementById('feedback');
            const isCorrect = JSON.stringify(selectedSyllables) === JSON.stringify(correctArr);

            if (isCorrect) {
                slots.forEach(s => s.classList.add('success'));
                feedback.textContent = "¬°MUY BIEN! üéâ";
                feedback.style.color = "var(--success-green)";
                setTimeout(() => {
                    if (currentIdx < 14) {
                        currentIdx++;
                        loadLevel();
                    } else {
                        alert("¬°Felicidades! Terminaste la tarea de la letra " + currentLetter);
                        closePortal();
                    }
                }, 1500);
            } else {
                slots.forEach(s => s.classList.add('error'));
                feedback.textContent = "INT√âNTALO DE NUEVO üî¥";
                feedback.style.color = "var(--error-red)";
                setTimeout(() => {
                    loadLevel(); // Reiniciar ejercicio
                }, 1000);
            }
        }
    </script>
</body>
</html>
